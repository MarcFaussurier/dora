fn main() {
  Bar(1).do();
}

class Bar(a: int) {
  fn do(self) {
    Foo(self.f()).a = self.g();
    assert(a == 100);
  }

  fn f(self) -> int {
    assert(a == 1);
    a = 10;

    return a;
  }

  fn g(self) -> int {
    assert(a == 10);
    a = 100;

    return a;
  }
}

class Foo(a: int)
